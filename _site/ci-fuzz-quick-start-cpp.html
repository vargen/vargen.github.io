<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Quick Start C/C++ - Code Intelligence Docs</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Quick Start C/C++ | Code Intelligence Docs</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Quick Start C/C++" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation site for Code Intelligence products." /> <meta property="og:description" content="Documentation site for Code Intelligence products." /> <link rel="canonical" href="http://localhost:4000/ci-fuzz-quick-start-cpp" /> <meta property="og:url" content="http://localhost:4000/ci-fuzz-quick-start-cpp" /> <meta property="og:site_name" content="Code Intelligence Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Quick Start C/C++" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation site for Code Intelligence products.","headline":"Quick Start C/C++","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/ci_logo.png"}},"url":"http://localhost:4000/ci-fuzz-quick-start-cpp"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/cifuzz-cli" class="nav-list-link">CI Fuzz CLI</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/cli-installation" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-quick-start-cpp" class="nav-list-link">Quick Start C/C++</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-quick-start-java" class="nav-list-link">Quick Start Java</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-initializing-a-project" class="nav-list-link">Initializing a Project</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-creating-a-fuzz-test" class="nav-list-link">Creating a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-running-a-fuzz-test" class="nav-list-link">Running a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-findings" class="nav-list-link">Findings</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-coverage" class="nav-list-link">Coverage</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-remote-run" class="nav-list-link">Remote Run</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/ci-fuzz" class="nav-list-link">CI Fuzz</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/ci-fuzz-quick-start-cpp" class="nav-list-link active">Quick Start C/C++</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-installation" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-authentication" class="nav-list-link">Authentication</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-running-a-fuzz-test" class="nav-list-link">Running a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-access-control" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-project-creation" class="nav-list-link">Project Creation</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-findings" class="nav-list-link">Findings</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/web-api-fuzzing" class="nav-list-link">Web API Fuzzing</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/java-web-api-fuzzing" class="nav-list-link">Java Web API Fuzzing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/go-web-api-fuzzing" class="nav-list-link">Go Web API Fuzzing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/cpp-web-api-fuzzing" class="nav-list-link">CPP Web API Fuzzing</a> </li></ul></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Code Intelligence Docs" aria-label="Search Code Intelligence Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/CodeIntelligenceTesting/cifuzz" class="site-button" target="_blank" rel="noopener noreferrer" > CI Fuzz CLI </a> </li> <li class="aux-nav-list-item"> <a href="//code-intelligence.com" class="site-button" target="_blank" rel="noopener noreferrer" > Code Intelligence </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/ci-fuzz">CI Fuzz</a></li> <li class="breadcrumb-nav-list-item"><span>Quick Start C/C++</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="quick-start-cc"> <a href="#quick-start-cc" class="anchor-heading" aria-labelledby="quick-start-cc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Quick Start C/C++</strong> </h1> <p>This guide is intended to quickly get a local installation of CI Fuzz installed, configured, and running fuzz tests.</p> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ul class="no-bullets" id="markdown-toc"> <li><a href="#1-setting-up" id="markdown-toc-1-setting-up">1. Setting Up</a></li> <li><a href="#2-run-installer-with-docker-image-bundle" id="markdown-toc-2-run-installer-with-docker-image-bundle">2. Run Installer with Docker Image Bundle</a></li> <li><a href="#3-configure-password-login" id="markdown-toc-3-configure-password-login">3. Configure Password Login</a></li> <li><a href="#4-project-setup" id="markdown-toc-4-project-setup">4. Project Setup</a></li> <li><a href="#5-running-the-fuzz-tests" id="markdown-toc-5-running-the-fuzz-tests">5. Running the Fuzz Tests</a> <ul> <li><a href="#51-review-fuzz-test" id="markdown-toc-51-review-fuzz-test">5.1 Review Fuzz Test</a></li> <li><a href="#52-finding-details" id="markdown-toc-52-finding-details">5.2 Finding Details</a></li> <li><a href="#53-examine-coverage" id="markdown-toc-53-examine-coverage">5.3 Examine Coverage</a></li> </ul> </li> </ul><hr /> <h2 id="1-setting-up"> <a href="#1-setting-up" class="anchor-heading" aria-labelledby="1-setting-up"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Setting Up </h2> <p>Before you start, you should have:</p> <ul> <li>The CI Fuzz installer and docker image bundle files from Code Intelligence.</li> <li><a href="/cli-installation">Installed the CI Fuzz CLI</a></li> <li>Root/sudo privileges on a systemd enabled Linux system (Ubuntu/Debian recommended).</li> <li>Installed docker and docker compose on the system where CI Fuzz will be installed.</li> <li>Network access to github from the CI Fuzz system (this is not required, but is helpful).</li> </ul> <h2 id="2-run-installer-with-docker-image-bundle"> <a href="#2-run-installer-with-docker-image-bundle" class="anchor-heading" aria-labelledby="2-run-installer-with-docker-image-bundle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Run Installer with Docker Image Bundle </h2> <p>Run the provided CI Fuzz installer with the docker image bundle.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x ci-fuzz-on-prem-installer-&lt;version&gt;-linux
./ci-fuzz-on-prem-installer-&lt;version&gt;-linux <span class="nt">--docker-images</span> ci-fuzz-on-prem-images-&lt;version&gt;-linux
</code></pre></div></div> <p>By default, this will create the directory <code class="language-plaintext highlighter-rouge">/opt/ci-fuzz-&lt;version&gt;</code>. This is the installation directory. We’ll start the service after we configure the server.</p> <h2 id="3-configure-password-login"> <a href="#3-configure-password-login" class="anchor-heading" aria-labelledby="3-configure-password-login"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Configure Password Login </h2> <p>There are multiple ways to <a href="/ci-fuzz-authentication">configure authentication</a> for CI Fuzz. For this installation, we will use the <a href="ci-fuzz-authentication#password">password authentication</a> approach. If the directory <code class="language-plaintext highlighter-rouge">/etc/cifuzz</code> does not exist yet, create it and the file <code class="language-plaintext highlighter-rouge">cifuzz.env</code> now.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /etc/cifuzz
<span class="nb">touch</span> /etc/cifuzz/cifuzz.env
</code></pre></div></div> <p>Open <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code> with your preferred text editor and add the following values to it:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CIFUZZ_ENABLE_PASSWORD_LOGIN=1
DEMO_ORG_ADMIN_TOKEN=&lt;your_password_here&gt;
</code></pre></div></div> <p>By default CI Fuzz runs on port 8080, but you can change this by adding the following line to <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CIFUZZ_SERVER_PORT=&lt;port_number&gt;
</code></pre></div></div> <p>This will enable us to login to the web application with just a password. This same password will be used as the access token by command line tools.</p> <p>Now start the CI Fuzz service:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl start cifuzz
</code></pre></div></div> <h2 id="4-project-setup"> <a href="#4-project-setup" class="anchor-heading" aria-labelledby="4-project-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Project Setup </h2> <p>Once CI Fuzz is running, you can access the web application at <code class="language-plaintext highlighter-rouge">http://127.0.0.1:8080</code> in your browser. If you set a different port number in <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code> be sure to use that port number instead.</p> <h3 class="no_toc" id="41-login-to-ci-fuzz"> <a href="#41-login-to-ci-fuzz" class="anchor-heading" aria-labelledby="41-login-to-ci-fuzz"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.1 Login to CI Fuzz </h3> <p>When you open the web application:</p> <ol> <li>You should see a button saying <strong>PASSWORD LOGIN</strong>. Click it.</li> <li>Type the password you specified in <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code> from <a href="#3-configure-password-login">Step 3</a> and click <strong>LOGIN</strong>.</li> <li>This will take you to the dashboard.</li> </ol> <h3 class="no_toc" id="42-add-new-project-to-ci-fuzz"> <a href="#42-add-new-project-to-ci-fuzz" class="anchor-heading" aria-labelledby="42-add-new-project-to-ci-fuzz"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.2 Add New Project to CI Fuzz </h3> <p>Now you can add a project. You will need a repo to start fuzzing. Code Intelligence provides several demo projects which are a good way to start fuzzing and ensure everything is working correctly.</p> <p>We will use the <a href="https://github.com/CodeIntelligenceTesting/c-cpp-demo">c-cpp-demo project for this</a>.</p> <p>To add the project to CI Fuzz, you should be at the dashboard in the web application:</p> <ol> <li>From the sidebar on the left where it says <strong>Select Project</strong>, click the dropdown and select <strong>Add Project</strong>.</li> <li>Set the project as <strong>Personal</strong>.</li> <li>Enter the name of the project: <strong>c-cpp-demo</strong></li> <li>Copy and paste the Git URL for the c-cpp-demo project (<a href="https://github.com/CodeIntelligenceTesting/c-cpp-demo.git">this one</a>) in the text box and click <strong>ADD</strong>. If the system where you are installing CI Fuzz cannot reach github, you can skip this step.</li> </ol> <h3 class="no_toc" id="43-clone-repository-locally"> <a href="#43-clone-repository-locally" class="anchor-heading" aria-labelledby="43-clone-repository-locally"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4.3 Clone Repository Locally </h3> <p>This C/C++ demo already contains two fuzz tests and the necessary configuration information to work with CI Fuzz. Clone or download the project to the host where CI Fuzz is running.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/CodeIntelligenceTesting/c-cpp-demo.git
</code></pre></div></div> <h2 id="5-running-the-fuzz-tests"> <a href="#5-running-the-fuzz-tests" class="anchor-heading" aria-labelledby="5-running-the-fuzz-tests"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Running the Fuzz Tests </h2> <p>You will use CI Fuzz CLI to run the fuzz tests from the command line. Run the following command from the root of the project directory where you cloned/copied the c-cpp-demo project:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">CIFUZZ_API_TOKEN</span><span class="o">=</span>&lt;your_password&gt; cifuzz remote-run <span class="nt">-v</span> <span class="nt">--server</span> <span class="s2">"http://127.0.0.1:8080"</span> <span class="nt">--timeout</span><span class="o">=</span>120s
</code></pre></div></div> <p><strong>Note</strong>: use the password you specified in <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code> and be sure to adjust the IP and port if necessary.</p> <p>This command will <code class="language-plaintext highlighter-rouge">bundle</code> the c-cpp-demo project and submit it to the server. It will run each of the fuzz tests for 2 minutes (or until a crashing input is found). When you run the command above, it will ask you to select which project this fuzz test belongs to. Select the one you created earlier in <a href="#42-add-new-project-to-ci-fuzz">section 4.2</a>. Once the fuzz test is started, you can monitor the running fuzz tests in the UI:</p> <ol> <li>Open the browser and navigate to CI Fuzz.</li> <li>Select your project from the dropdown in the top of the left sidebar.</li> <li>Click one of the two fuzz tests (heap_buffer_overflow_test or stack_buffer_overflow_test) to view the metrics.</li> </ol> <p><img src="/assets/images/ci-fuzz-quick-start-cpp/running-fuzz-tests.png" alt="" /></p> <ul> <li><strong>Coverage Metrics</strong> - this is the coverage level of CI Fuzz over time. In this case you can see the coverage increased from the beginning of the test and stayed relatively constant. This makes sense because this is a small demo application and CI Fuzz quickly discovered several interesting paths.</li> <li><strong>Performance Execution</strong> - the number of executions / second at a given time. This will vary based on your system resources, the fuzz test, and the code you are testing itself.</li> <li><strong>Unique Corpus Inputs</strong> - every time the fuzzer discovers an input that leads to a new code path (increases coverage), it adds it to a set of unique corpus inputs. These are stored and can be used again later as a way to check for regressions in your code as they will cover previously discovered code paths.</li> </ul> <h3 id="51-review-fuzz-test"> <a href="#51-review-fuzz-test" class="anchor-heading" aria-labelledby="51-review-fuzz-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.1 Review Fuzz Test </h3> <p>If you select <strong>Overview</strong> from the left sidebar, you will see the current overview of the project updated with results from the fuzz tests you just ran. This overview shows:</p> <ul> <li>that you have 2 total findings with 2 of them being new.</li> <li>the job status of the recent fuzz test run.</li> <li>the overall coverage for the project.</li> </ul> <p><img src="/assets/images/ci-fuzz-quick-start-cpp/overview.png" alt="" /></p> <h3 id="52-finding-details"> <a href="#52-finding-details" class="anchor-heading" aria-labelledby="52-finding-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.2 Finding Details </h3> <p>To get additional details about the findings, you can either click on the project overview pane, or select <strong>Findings</strong> from the left sidebar. From there you can select one of the findings to view.</p> <p><img src="/assets/images/ci-fuzz-quick-start-cpp/findings-pane.png" alt="" /></p> <p>In this guide, we will focus on some key points about the finding, but if you want additional information, check out the <a href="/ci-fuzz-findings">findings section</a></p> <p>This view shows the status of each finding, it’s type and ID, a link to the source code where the finding was discovered (if you added the Git URL of the repo and it is reachable from CI Fuzz).</p> <p>CI Fuzz also provides information to help remediate the finding. When you expand a finding in the bottom pane, it will contain 3 tabs with different information: <code class="language-plaintext highlighter-rouge">Debug</code>, <code class="language-plaintext highlighter-rouge">Description</code>, and <code class="language-plaintext highlighter-rouge">Log</code>. These tabs contain several pieces of information that can help you determine the root cause of the finding.</p> <ul> <li>The <code class="language-plaintext highlighter-rouge">debug</code> tab contains the fuzz test responsible for the finding, the source line, the stack trace (if available), and the crashing input.</li> <li>The <code class="language-plaintext highlighter-rouge">description</code> tab contains the <code class="language-plaintext highlighter-rouge">severity score</code>, a short description of the finding, and possibly some links to additional information about this type of finding.</li> <li>The <code class="language-plaintext highlighter-rouge">log</code> tab content depends on the type of fuzzing that discovered the finding. If the finding is from unit fuzzing, then the output will be output directly from the fuzzer. If the finding is from Web API fuzzing, then the output will contain the API request responsible for triggering the finding.</li> </ul> <h3 id="53-examine-coverage"> <a href="#53-examine-coverage" class="anchor-heading" aria-labelledby="53-examine-coverage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5.3 Examine Coverage </h3> <p>To view additional details about coverage, just click <strong>Code Coverage</strong> on the left sidebar. This will show you the overall coverage and a breakdown of the coverage by file.</p> <p><img src="/assets/images/ci-fuzz-quick-start-cpp/code-coverage.png" alt="" /></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
