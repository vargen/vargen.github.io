<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Installation - Code Intelligence Docs</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Installation | Code Intelligence Docs</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Installation" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation site for Code Intelligence products." /> <meta property="og:description" content="Documentation site for Code Intelligence products." /> <link rel="canonical" href="http://localhost:4000/ci-fuzz-installation" /> <meta property="og:url" content="http://localhost:4000/ci-fuzz-installation" /> <meta property="og:site_name" content="Code Intelligence Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Installation" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation site for Code Intelligence products.","headline":"Installation","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/ci_logo.png"}},"url":"http://localhost:4000/ci-fuzz-installation"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/cifuzz-cli" class="nav-list-link">CI Fuzz CLI</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/cli-installation" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-quick-start-cpp" class="nav-list-link">Quick Start C/C++</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-quick-start-java" class="nav-list-link">Quick Start Java</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-initializing-a-project" class="nav-list-link">Initializing a Project</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-creating-a-fuzz-test" class="nav-list-link">Creating a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-running-a-fuzz-test" class="nav-list-link">Running a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-findings" class="nav-list-link">Findings</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-coverage" class="nav-list-link">Coverage</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-remote-run" class="nav-list-link">Remote Run</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/ci-fuzz" class="nav-list-link">CI Fuzz</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-quick-start-cpp" class="nav-list-link">Quick Start C/C++</a></li><li class="nav-list-item active"><a href="http://localhost:4000/ci-fuzz-installation" class="nav-list-link active">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-authentication" class="nav-list-link">Authentication</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-running-a-fuzz-test" class="nav-list-link">Running a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-access-control" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-project-creation" class="nav-list-link">Project Creation</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-findings" class="nav-list-link">Findings</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/web-api-fuzzing" class="nav-list-link">Web API Fuzzing</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/java-web-api-fuzzing" class="nav-list-link">Java Web API Fuzzing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/go-web-api-fuzzing" class="nav-list-link">Go Web API Fuzzing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/cpp-web-api-fuzzing" class="nav-list-link">CPP Web API Fuzzing</a> </li></ul></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Code Intelligence Docs" aria-label="Search Code Intelligence Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/CodeIntelligenceTesting/cifuzz" class="site-button" target="_blank" rel="noopener noreferrer" > CI Fuzz CLI </a> </li> <li class="aux-nav-list-item"> <a href="//code-intelligence.com" class="site-button" target="_blank" rel="noopener noreferrer" > Code Intelligence </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/ci-fuzz">CI Fuzz</a></li> <li class="breadcrumb-nav-list-item"><span>Installation</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="installing-ci-fuzz"> <a href="#installing-ci-fuzz" class="anchor-heading" aria-labelledby="installing-ci-fuzz"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Installing CI Fuzz</strong> </h1> <p>This page will walk you through installing CI Fuzz. Before you begin, you should have received:</p> <ul> <li>the CI Fuzz on-prem installer (<code class="language-plaintext highlighter-rouge">ci-fuzz-on-prem-installer-&lt;version&gt;-linux</code>)</li> <li>a docker image bundle (<code class="language-plaintext highlighter-rouge">ci-fuzz-on-prem-images-&lt;version&gt;-linux</code>)</li> </ul> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ul id="markdown-toc"> <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li> <li><a href="#step-1-get-a-tls-certificate" id="markdown-toc-step-1-get-a-tls-certificate">Step 1: Get a TLS certificate</a></li> <li><a href="#step-2-run-the-installer" id="markdown-toc-step-2-run-the-installer">Step 2: Run the installer</a></li> <li><a href="#step-3-configuration" id="markdown-toc-step-3-configuration">Step 3: Configuration</a></li> <li><a href="#step-4-run-server" id="markdown-toc-step-4-run-server">Step 4: Run server</a></li> </ul><hr /> <h2 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites </h2> <p>In order to use the provided install mechanism and the resulting docker-compose setup, some prerequisites have to be met. We recommend using a server with at least:</p> <ul> <li>32 GB RAM</li> <li>16 or more CPU cores</li> <li>100 GB storage</li> <li>A Linux operating system</li> <li>ssh access (or equivalent)</li> <li>Docker and Docker-Compose</li> <li>root privileges (if you want to use port 80/443)</li> <li>Open ports. See <a href="#ports-and-network-settings">Ports and Network Settings</a> for details</li> <li>Access to a docker registry.</li> </ul> <h3 class="no_toc" id="linux"> <a href="#linux" class="anchor-heading" aria-labelledby="linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Linux </h3> <p>The only supported operating system is Linux. Most linux distributions will be fine, while the most comfort can be achieved by using one that supports systemd. If in doubt, we recommend using Ubuntu Server.</p> <h3 class="no_toc" id="tls"> <a href="#tls" class="anchor-heading" aria-labelledby="tls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> TLS </h3> <p>Operating system’s certificate store must be in the following location:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/ssl/certs/ca-certificates.crt
</code></pre></div></div> <p>This is the default on Ubuntu and Debian. On Centos, you need to create a hard link here:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> /etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt /etc/ssl/certs/ca-certificates.crt
</code></pre></div></div> <h3 class="no_toc" id="docker"> <a href="#docker" class="anchor-heading" aria-labelledby="docker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker </h3> <p>Docker-Compose relies on docker being installed on the host system. To do so, follow the provided instructions for your distribution as depicted in the docker engine documentation.</p> <p>Additionally, CI Fuzz runs fuzz tests inside specific Docker containers. These docker containers are specified as part of the fuzz tests themselves, but the CI Fuzz server must have access to these docker images. They can either be pulled from a docker registry (internal or external) or otherwise placed on the CI Fuzz server.</p> <h3 class="no_toc" id="docker-compose"> <a href="#docker-compose" class="anchor-heading" aria-labelledby="docker-compose"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Docker-Compose </h3> <p>In addition to the docker engine, the setup uses docker-compose to orchestrate its components. To setup docker-compose, follow the installation instructions.</p> <p>The minimum supported docker-compose version is 1.27.0. CI Fuzz also supports the Compose plugin for Docker (<code class="language-plaintext highlighter-rouge">docker compose</code>).</p> <h3 class="no_toc" id="systemd"> <a href="#systemd" class="anchor-heading" aria-labelledby="systemd"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Systemd </h3> <p>Having docker-compose allows to easily start and stop the service. But to be (re)started at boot, additional work has to be done. The installer provides a shortcut by setting up a systemd system service.</p> <h3 class="no_toc" id="ports-and-network-settings"> <a href="#ports-and-network-settings" class="anchor-heading" aria-labelledby="ports-and-network-settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ports and Network Settings </h3> <p>This table provides some details about potential port requirements that may be needed.</p> <p><strong>Note</strong> AUT is the Application Under Test and applies to Web API fuzzing only.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">Port</th> <th style="text-align: center">Protocol</th> <th style="text-align: center">Source</th> <th style="text-align: center">Destination</th> <th style="text-align: center">Purpose</th> <th style="text-align: center">Comments</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">443</td> <td style="text-align: center">TCP</td> <td style="text-align: center">Browser</td> <td style="text-align: center">CI Server</td> <td style="text-align: center">Access CI Fuzz web application to view and manage findings</td> <td style="text-align: center">Port is configurable in CI Fuzz</td> </tr> <tr> <td style="text-align: center">OAuth Provider Port</td> <td style="text-align: center">TCP</td> <td style="text-align: center">CI Server</td> <td style="text-align: center">OAuth Provider</td> <td style="text-align: center">CI Server contacts the OAuth provider during authentication.</td> <td style="text-align: center"> </td> </tr> <tr> <td style="text-align: center">443</td> <td style="text-align: center">TCP</td> <td style="text-align: center">cictl</td> <td style="text-align: center">CI Server</td> <td style="text-align: center">Start fuzz tests, upload artifacts, monitor status</td> <td style="text-align: center">Port is configurable in CI Fuzz</td> </tr> <tr> <td style="text-align: center">443</td> <td style="text-align: center">TCP</td> <td style="text-align: center">CI/CD Server</td> <td style="text-align: center">CI Server</td> <td style="text-align: center">CI/CD server can initiate jobs on CI Server</td> <td style="text-align: center">Port is configurable in CI Fuzz</td> </tr> <tr> <td style="text-align: center">6777-7777</td> <td style="text-align: center">TCP</td> <td style="text-align: center">AUT</td> <td style="text-align: center">CI Server</td> <td style="text-align: center">Java agent to contact CI Server with finding and coverage information</td> <td style="text-align: center">Web API fuzzing only. Port range is configurable in CI Fuzz</td> </tr> <tr> <td style="text-align: center">AUT Listening Port</td> <td style="text-align: center">TCP</td> <td style="text-align: center">CI Server</td> <td style="text-align: center">AUT</td> <td style="text-align: center">Send fuzzing inputs to AUT</td> <td style="text-align: center">Port depends on listening port of AUT. Web API fuzzing only.</td> </tr> </tbody> </table></div> <p>A DNS entry for your CI Fuzz server must exist, or you need a custom TLS certificate that is valid for an IP address.</p> <h2 id="step-1-get-a-tls-certificate"> <a href="#step-1-get-a-tls-certificate" class="anchor-heading" aria-labelledby="step-1-get-a-tls-certificate"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Get a TLS certificate </h2> <p>For secure TLS connections to the fuzzing server, a TLS certificate is needed. Your company may already use a specific CA or run its own. If not, you can get free TLS certificates from Let’s Encrypt.</p> <p>Just install the command line tool certbot and request a certificate with a single command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>certbot  
<span class="nb">sudo </span>certbot certonly <span class="nt">--standalone</span> <span class="nt">--preferred-challenges</span> http <span class="nt">-d</span> &lt;your domain&gt;
</code></pre></div></div> <h2 id="step-2-run-the-installer"> <a href="#step-2-run-the-installer" class="anchor-heading" aria-labelledby="step-2-run-the-installer"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Run the installer </h2> <p>You should have received a link for the installer and a docker image bundle (CI Fuzz on-premise backend image bundle) from Code Intelligence. Run the installer with the docker image bundle as shown here:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod +x ci-fuzz-on-prem-installer-&lt;version&gt;-linux
./ci-fuzz-on-prem-installer-&lt;version&gt;-linux --docker-images &lt;path to your bundle&gt;
</code></pre></div></div> <p>You need at least 10 GB of free disk space to run the installer when using the image bundle, as it needs to create some temporary files. </p> <h2 id="step-3-configuration"> <a href="#step-3-configuration" class="anchor-heading" aria-labelledby="step-3-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 3: Configuration </h2> <p>When CI Fuzz is started it will load all configuration variables found in <code class="language-plaintext highlighter-rouge">/opt/ci-fuzz-&lt;version&gt;/cifuzz.env</code>. It will then search for any <code class="language-plaintext highlighter-rouge">.env</code> files in <code class="language-plaintext highlighter-rouge">/etc/cifuzz</code>. Any variables defined there will overwrite those originally taken from <code class="language-plaintext highlighter-rouge">/opt/ci-fuzz-&lt;version&gt;/cifuzz.env</code>.</p> <h3 class="no_toc" id="data-storage-locations"> <a href="#data-storage-locations" class="anchor-heading" aria-labelledby="data-storage-locations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Storage Locations </h3> <p>The following table lists the standard locations and components for persisted data for a CI Fuzz installation. This is a useful reference when planning your initial installation and how you will handle upgrades and backups.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">Data Item</th> <th style="text-align: center">Default Location</th> <th style="text-align: center">Purpose</th> <th style="text-align: center">Configurable</th> <th style="text-align: center">Comments</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">CIFUZZ_DATA_DIR</td> <td style="text-align: center">$HOME/.local/share/cifuzz</td> <td style="text-align: center">Directory containing fuzzing artifacts and corpora</td> <td style="text-align: center">Location can be configured in .env files in /etc/cifuzz</td> <td style="text-align: center">The directory can be a network share.</td> </tr> <tr> <td style="text-align: center">CI Fuzz Database</td> <td style="text-align: center">/var/lib/docker/volumes/cifuzz_db-data/_data</td> <td style="text-align: center">Postgres database for storing fuzzing results and user data.</td> <td style="text-align: center">Not configurable in CI Fuzz</td> <td style="text-align: center">Backup/tar this directory. See <strong>note</strong> below</td> </tr> <tr> <td style="text-align: center">Configuration files</td> <td style="text-align: center">/etc/cifuzz</td> <td style="text-align: center">cictl</td> <td style="text-align: center">Configuration files for CI Fuzz</td> <td style="text-align: center">CI Fuzz first looks for cifuzz.env and then applies any additional .env files that are found in the directory specified by cifuzz-server –env-files-from</td> </tr> </tbody> </table></div> <p><strong>Note</strong>: If deploying CI Fuzz to a new system / image, it is recommended you first start CI Fuzz to initialize the docker volume directory. Then stop CI Fuzz, copy over the database backup, and restart CI Fuzz.</p> <h3 class="no_toc" id="31-first-time-install"> <a href="#31-first-time-install" class="anchor-heading" aria-labelledby="31-first-time-install"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.1 First Time Install </h3> <p>If this is your first time installing CI Fuzz, you will need to create the <code class="language-plaintext highlighter-rouge">/etc/cifuzz</code> directory.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo mkdir</span> /etc/cifuzz/
</code></pre></div></div> <p>You can download <a href="/assets/files/cifuzz.env.template">this template</a> to <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code> and then fill in the values as described below. You can use the command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>wget https://docs.code-intelligence.com/assets/files/cifuzz.env.template <span class="nt">-O</span> /etc/cifuzz/cifuzz.env
</code></pre></div></div> <ul> <li><strong>CIFUZZ_SERVER_ORIGIN</strong> - change to the hostname of the host where you are running CI Fuzz server. Please set full origin here - protocol (https), hostname and port. If you are using OAuth, then this must match the origin set in your OAuth application.</li> <li><strong>CIFUZZ_SERVER_PORT</strong> you can change the port if needed. Defaults to 8080 if not set.</li> <li><strong>CIFUZZ_CERT_FILE</strong> and <strong>CIFUZZ_CERT_KEY</strong> - absolute paths to the certificate and key that CI Fuzz should use.</li> <li><strong>CIFUZZ_INTER_SERVICE_AUTH_KEY</strong> - generate a random key using <code class="language-plaintext highlighter-rouge">openssl rand -hex 32</code> or equivalent.</li> <li><strong>CIFUZZ_NUM_WORKER_THREADS</strong> - set to the number of CPU cores available</li> <li><strong>CI Fuzz Authentication</strong> - there are several ways to configure authentication to the <code class="language-plaintext highlighter-rouge">CI Fuzz Web Application</code>. The template contains areas for various OAuth applications. You only need to fill in the values for one of them. See <a href="/ci-fuzz-authentication">Authentication</a> for details on different authentication options.</li> </ul> <h3 class="no_toc" id="32-upgrading-ci-fuzz"> <a href="#32-upgrading-ci-fuzz" class="anchor-heading" aria-labelledby="32-upgrading-ci-fuzz"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3.2 Upgrading CI Fuzz </h3> <p>If you are upgrading CI Fuzz from a previous version, there is no need to adjust your configuration options in <code class="language-plaintext highlighter-rouge">/etc/cifuzz/cifuzz.env</code> unless new functionality has been added that you would like to use. To upgrade CI Fuzz, first stop the service with, then install CI Fuzz with the new docker images, and then restart the service:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl stop cifuzz
<span class="nb">chmod</span> +x ci-fuzz-on-prem-installer-&lt;version&gt;-linux
./ci-fuzz-on-prem-installer-&lt;version&gt;-linux <span class="nt">--docker-images</span> &lt;path to your bundle&gt;
<span class="nb">sudo </span>systemctl start cifuzz
</code></pre></div></div> <h2 id="step-4-run-server"> <a href="#step-4-run-server" class="anchor-heading" aria-labelledby="step-4-run-server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 4: Run server </h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl start cifuzz  
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>cifuzz <span class="c">#to make it autostart after reboot</span>
</code></pre></div></div> <p>Check if CI Fuzz containers have been started successfully:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo docker ps
</code></pre></div></div> <p>The output should look similar to this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONTAINER ID   IMAGE                                                  COMMAND                  CREATED          STATUS         PORTS                                       NAMES
2833328092d9   f5d6e55758e0d08d.azurecr.io/cifuzz/ci-worker:2.42.0    "/usr/bin/java -cp /…"   11 seconds ago   Up 7 seconds   0.0.0.0:6778-&gt;6777/tcp, :::6778-&gt;6777/tcp   cifuzz-ci-worker-1
dba452af7e81   f5d6e55758e0d08d.azurecr.io/cifuzz/ci-backend:2.42.0   "/usr/bin/java -cp /…"   11 seconds ago   Up 7 seconds   0.0.0.0:6777-&gt;6777/tcp, :::6777-&gt;6777/tcp   cifuzz-ci-backend-1
bc3e5af64601   prometheuscommunity/postgres-exporter:v0.10.0          "/bin/postgres_expor…"   11 seconds ago   Up 7 seconds   0.0.0.0:9187-&gt;9187/tcp, :::9187-&gt;9187/tcp   cifuzz-db-metrics-1
909f0f946f26   f5d6e55758e0d08d.azurecr.io/cifuzz/reporting:2.42.0    "/usr/bin/java -cp /…"   11 seconds ago   Up 8 seconds                                               cifuzz-reporting-1
86d83d710634   postgres:12.7                                          "docker-entrypoint.s…"   11 seconds ago   Up 8 seconds   5432/tcp                                    cifuzz-db-1
6975de4d7388   f5d6e55758e0d08d.azurecr.io/cifuzz/gateway:2.42.0      "/app/cmd/gateway/ba…"   11 seconds ago   Up 8 seconds   0.0.0.0:443-&gt;443/tcp, :::443-&gt;443/tcp       cifuzz-gateway-1
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
