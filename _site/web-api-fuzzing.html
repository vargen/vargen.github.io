<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Web API Fuzzing - Code Intelligence Docs</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Web API Fuzzing | Code Intelligence Docs</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Web API Fuzzing" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation site for Code Intelligence products." /> <meta property="og:description" content="Documentation site for Code Intelligence products." /> <link rel="canonical" href="http://localhost:4000/web-api-fuzzing" /> <meta property="og:url" content="http://localhost:4000/web-api-fuzzing" /> <meta property="og:site_name" content="Code Intelligence Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Web API Fuzzing" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation site for Code Intelligence products.","headline":"Web API Fuzzing","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/ci_logo.png"}},"url":"http://localhost:4000/web-api-fuzzing"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/cifuzz-cli" class="nav-list-link">CI Fuzz CLI</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/cli-installation" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-quick-start-cpp" class="nav-list-link">Quick Start C/C++</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-quick-start-java" class="nav-list-link">Quick Start Java</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-initializing-a-project" class="nav-list-link">Initializing a Project</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-creating-a-fuzz-test" class="nav-list-link">Creating a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-running-a-fuzz-test" class="nav-list-link">Running a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-findings" class="nav-list-link">Findings</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-coverage" class="nav-list-link">Coverage</a></li><li class="nav-list-item "><a href="http://localhost:4000/cli-remote-run" class="nav-list-link">Remote Run</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/ci-fuzz" class="nav-list-link">CI Fuzz</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-quick-start-cpp" class="nav-list-link">Quick Start C/C++</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-installation" class="nav-list-link">Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-authentication" class="nav-list-link">Authentication</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-running-a-fuzz-test" class="nav-list-link">Running a Fuzz Test</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-access-control" class="nav-list-link">Access Control</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-project-creation" class="nav-list-link">Project Creation</a></li><li class="nav-list-item "><a href="http://localhost:4000/ci-fuzz-findings" class="nav-list-link">Findings</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/web-api-fuzzing" class="nav-list-link active">Web API Fuzzing</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/java-web-api-fuzzing" class="nav-list-link">Java Web API Fuzzing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/go-web-api-fuzzing" class="nav-list-link">Go Web API Fuzzing</a> </li><li class="nav-list-item "> <a href="http://localhost:4000/cpp-web-api-fuzzing" class="nav-list-link">CPP Web API Fuzzing</a> </li></ul></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Code Intelligence Docs" aria-label="Search Code Intelligence Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/CodeIntelligenceTesting/cifuzz" class="site-button" target="_blank" rel="noopener noreferrer" > CI Fuzz CLI </a> </li> <li class="aux-nav-list-item"> <a href="//code-intelligence.com" class="site-button" target="_blank" rel="noopener noreferrer" > Code Intelligence </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/ci-fuzz">CI Fuzz</a></li> <li class="breadcrumb-nav-list-item"><span>Web API Fuzzing</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="web-api-fuzzing"> <a href="#web-api-fuzzing" class="anchor-heading" aria-labelledby="web-api-fuzzing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Web API Fuzzing</strong> </h1> <p>CI Fuzz is capable of coverage-guided fuzzing for Java- and Go-based REST and GRPC APIs. This section contains the initial steps you will need to perform to prepare your API for fuzzing.</p> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ul id="markdown-toc"> <li><a href="#download-the-template" id="markdown-toc-download-the-template">Download the Template</a></li> <li><a href="#template-overview" id="markdown-toc-template-overview">Template Overview</a></li> <li><a href="#configure-the-template" id="markdown-toc-configure-the-template">Configure the Template</a> <ul> <li><a href="#http--rest" id="markdown-toc-http--rest">HTTP / REST</a></li> <li><a href="#grpc" id="markdown-toc-grpc">gRPC</a></li> </ul> </li> </ul><hr /> <h2 id="download-the-template"> <a href="#download-the-template" class="anchor-heading" aria-labelledby="download-the-template"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Download the Template </h2> <p>Download the following template to the system where you will be building your fuzz tests:</p> <ul> <li><a href="/assets/files/web-api-fuzzing-template.tar">CI Fuzz Web API Fuzzing Template</a></li> </ul> <p>The template contain a directory structure that CI Fuzz needs to start fuzz tests. Depending on the type of API you intend to fuzz, REST or gRPC, will determine the type of modifications you need to make to the configuration files in the template.</p> <h2 id="template-overview"> <a href="#template-overview" class="anchor-heading" aria-labelledby="template-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Template Overview </h2> <p>Here is an overview of the key files and directories in the template.</p> <h3 class="no_toc" id="code-intelligenceweb_servicesyaml"> <a href="#code-intelligenceweb_servicesyaml" class="anchor-heading" aria-labelledby="code-intelligenceweb_servicesyaml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .code-intelligence/web_services.yaml </h3> <p>The <code class="language-plaintext highlighter-rouge">web_services.yaml</code> file lists the different web services you want to fuzz. Each fuzz test must be associated with a web service. If your application consists of several microservices, add one web service entry for each microservice and name them appropriately. Web services can be named however you want as long as they are consistent between the <code class="language-plaintext highlighter-rouge">web_services.yaml</code> and <code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;.yaml</code> files.</p> <h3 class="no_toc" id="code-intelligencefuzz_targets"> <a href="#code-intelligencefuzz_targets" class="anchor-heading" aria-labelledby="code-intelligencefuzz_targets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .code-intelligence/fuzz_targets </h3> <p>This folder contains the API fuzz tests. A fuzz test for an API consists of two things:</p> <ul> <li>A fuzz test configuration file (<code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;.yaml</code>).</li> <li>HTTP requests necessary to authenticate to the application.</li> </ul> <p>The fuzz test configuration file contains several options that can be configured to adjust the behavior of your fuzz test. Some options are specific to the type of fuzz test you are performing (HTTP vs gRPC).</p> <p><strong>Note</strong>: the directory containing the fuzz tests can be configured in <code class="language-plaintext highlighter-rouge">.code-intelligence/project.yaml</code> if needed by setting the <code class="language-plaintext highlighter-rouge">web_app_target_configs</code> option.</p> <h3 class="no_toc" id="code-intelligencefuzz_test_seed_corpus"> <a href="#code-intelligencefuzz_test_seed_corpus" class="anchor-heading" aria-labelledby="code-intelligencefuzz_test_seed_corpus"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> .code-intelligence/fuzz_test_seed_corpus </h3> <p>The <code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;_seed_corpus</code> directory should contain manual seeds that you add to improve the fuzz test.</p> <h2 id="configure-the-template"> <a href="#configure-the-template" class="anchor-heading" aria-labelledby="configure-the-template"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure the Template </h2> <p>Configure the template files as follows depending on if you are fuzzing HTTP or gRPC.</p> <h3 id="http--rest"> <a href="#http--rest" class="anchor-heading" aria-labelledby="http--rest"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> HTTP / REST </h3> <h4 class="no_toc" id="code-intelligenceweb_servicesyaml-1"> <a href="#code-intelligenceweb_servicesyaml-1" class="anchor-heading" aria-labelledby="code-intelligenceweb_servicesyaml-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>.code-intelligence/web_services.yaml</strong> </h4> <p>Change the name of the web_service if desired. A web service can have any name as long as it matches that used by the fuzzing agent and listed in <code class="language-plaintext highlighter-rouge">.code-intelligence/project.yaml</code>.</p> <p>If your application has an OpenAPI / swagger specification file, add the path to it in this file on the line containing <code class="language-plaintext highlighter-rouge">open_api_spec</code>. The path is relative to the root directory of the git repository. CI Fuzz will parse this file and automatically generate seeds to use for fuzzing. An OpenAPI specification corresponds to a specific web service.</p> <h4 class="no_toc" id="code-intelligencefuzz_targetsfuzz_testyaml"> <a href="#code-intelligencefuzz_targetsfuzz_testyaml" class="anchor-heading" aria-labelledby="code-intelligencefuzz_targetsfuzz_testyaml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>.code-intelligence/fuzz_targets/fuzz_test.yaml</strong> </h4> <p>Configure the following in your <code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;.yaml</code> file:</p> <ul> <li>Set <code class="language-plaintext highlighter-rouge">protocol</code> to http.</li> <li>Set <code class="language-plaintext highlighter-rouge">base_url</code> to the address where the application you are testing will be running. Include the protocol when specifying the address: <code class="language-plaintext highlighter-rouge">http(s)://</code></li> <li>Enable and set <code class="language-plaintext highlighter-rouge">allowed_requests</code> to whichever HTTP paths (endpoints) the fuzzer should test. This is optional.</li> <li>Enable and set <code class="language-plaintext highlighter-rouge">denied_requests</code> to whicheer HTTP paths (endpoints) the fuzzer should not attempt to test. This is optional.</li> <li>Enable and set <code class="language-plaintext highlighter-rouge">health_check_url</code> to an endpoint that CI Fuzz can use to verify the target application is reachable and running. This is optional.</li> </ul> <h4 class="no_toc" id="code-intelligenceprojectyaml"> <a href="#code-intelligenceprojectyaml" class="anchor-heading" aria-labelledby="code-intelligenceprojectyaml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>.code-intelligence/project.yaml</strong> </h4> <p>Set the <code class="language-plaintext highlighter-rouge">web_app_target_configs</code> to the path to the <code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;.yaml</code> files in <code class="language-plaintext highlighter-rouge">.code-intelligence/fuzz_targets/</code>.</p> <h3 id="grpc"> <a href="#grpc" class="anchor-heading" aria-labelledby="grpc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> gRPC </h3> <h4 class="no_toc" id="code-intelligenceweb_servicesyaml-2"> <a href="#code-intelligenceweb_servicesyaml-2" class="anchor-heading" aria-labelledby="code-intelligenceweb_servicesyaml-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>.code-intelligence/web_services.yaml</strong> </h4> <p>Change the name of the web_service if desired. A web service can have any name as long as it matches that used by the fuzzing agent and listed in <code class="language-plaintext highlighter-rouge">.code-intelligence/project.yaml</code>.</p> <h4 class="no_toc" id="code-intelligencefuzz_targetsfuzz_testyaml-1"> <a href="#code-intelligencefuzz_targetsfuzz_testyaml-1" class="anchor-heading" aria-labelledby="code-intelligencefuzz_targetsfuzz_testyaml-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>.code-intelligence/fuzz_targets/fuzz_test.yaml</strong> </h4> <p>Configure the following in your <code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;.yaml</code> file:</p> <ul> <li>Set <code class="language-plaintext highlighter-rouge">protocol</code> to grpc.</li> <li>Set <code class="language-plaintext highlighter-rouge">base_url</code> to the address where the application you are testing will be running. Specify the address as <code class="language-plaintext highlighter-rouge">[DOMAIN | IP]:[PORT]</code>.</li> <li>Enable and set <code class="language-plaintext highlighter-rouge">run_extra_args</code> to be <code class="language-plaintext highlighter-rouge">"--proto_stub_path=./libproto_stub.so"</code>.</li> <li>Enable and set <code class="language-plaintext highlighter-rouge">health_check_url</code> to an endpoint that CI Fuzz can use to verify the target application is reachable and running. This is optional.</li> </ul> <h4 class="no_toc" id="code-intelligenceprojectyaml-1"> <a href="#code-intelligenceprojectyaml-1" class="anchor-heading" aria-labelledby="code-intelligenceprojectyaml-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>.code-intelligence/project.yaml</strong> </h4> <p>Set the <code class="language-plaintext highlighter-rouge">web_app_target_configs</code> to the path to the <code class="language-plaintext highlighter-rouge">&lt;fuzz_test&gt;.yaml</code> files in <code class="language-plaintext highlighter-rouge">.code-intelligence/fuzz_targets/</code>.</p> <hr> <h2 class="text-delta">Table of contents</h2> <ul> <li> <a href="http://localhost:4000/java-web-api-fuzzing">Java Web API Fuzzing</a> </li> <li> <a href="http://localhost:4000/go-web-api-fuzzing">Go Web API Fuzzing</a> </li> <li> <a href="http://localhost:4000/cpp-web-api-fuzzing">CPP Web API Fuzzing</a> </li> </ul> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
